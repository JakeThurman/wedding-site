<h2>View Responses</h2>

<div id="output">
	Responses still loading...
</div>

<script id="output-template" type="text/x-handlebars-template">
	<div>
		<p><b>{{count.total}}</b> total response(s) received.</p>
		<p><b>{{count.can}}</b> can attend, <b>{{count.cannot}}</b> cannot.</p>

		<p><i>Responses are sorted as newest first</i></p>
		<table>
			<thead>
				<th>Name</th>
				<th>Can Attend</th>
				<th>Note</th>
			</thead>
			<tbody>
				{{#each people}}	
					<tr><th colspan='3'>{{label}}</th></tr>

					{{#each rsvps}}
						{{#if cannot_attend}}<tr class="bad" data-uid={{uid}} data-rid={{rid}}>
						{{else}}             <tr data-uid={{uid}} data-rid={{rid}}> {{/if}}
							<td>{{name}}</td>
							<td>{{#if cannot_attend}}N{{else}}Y{{/if}}</td>
							<td><pre>{{note}}</pre></td>
						</tr>
					{{/each}}
				{{/each}}
			</tbody>
		</table>
	</div>
</script>

<script src="./__/firebase/3.1.0/firebase.js"></script>
<script src="./__/firebase/init.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.1.1/handlebars.min.js"></script>
<script src="./content/js/viewrsvps.js?nocache={{buildid}}"></script>
