<h2>View Responses</h2>

<div id="output">
	Responses still loading...
</div>

<script id="output-template" type="text/x-handlebars-template">
	<div>
		<div style="display:grid;grid-template-columns:50% auto">
			<div>
				<p><b>{{count.total}}</b> total response(s) received:</p>
				<ul>
					<li><b>{{count.can}}</b> can attend</li>
					<li><b>{{count.cannot}}</b> cannot</li>
				</ul>
			</div>
			<div>
				<p>Potential Issues:</p>
				<ul>
					<li><b>{{count.duplicates}}</b> duplicated response(s).</li>
					<li><b>{{count.wrongNames}}</b> incorrect name(s).</li>
				</ul>
			</div>
		</div>
		<br/>
		<p><i>Responses are sorted as newest first</i></p>
		<table>
			<thead>
				<th>Name</th>
				<th>Can Attend</th>
				<th>Note</th>
			</thead>
			<tbody>
				{{#each people}}	
					<tr><th colspan='3'>{{label}}:</th></tr>

					{{#each rsvps}}
						{{#if cannot_attend}}<tr class="bad" data-uid={{uid}} data-rid={{rid}}>
						{{else}}             <tr data-uid={{uid}} data-rid={{rid}}> {{/if}}
							<td>{{name}}</td>
							<td>{{#if cannot_attend}}N{{else}}Y{{/if}}</td>
							<td><pre>{{note}}</pre></td>
						</tr>
					{{/each}}
				{{/each}}
			</tbody>
		</table>
	</div>
</script>


<script src="./content/js/errorHandler.js"></script>
<script src="./__/firebase/6.1.1/firebase-app.js"></script>
<script src="./__/firebase/6.1.1/firebase-auth.js"></script>
<script src="./__/firebase/6.1.1/firebase-database.js"></script>
<script src="./__/firebase/init.js"></script>
<script src="./content/js/core.min.js"></script>
<script src="./content/js/classList.min.js"></script>
<script src="./content/js/handlebars.min.js"></script>
<script src="./content/js/viewrsvps.js?nocache={{buildid}}"></script>
